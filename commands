Commands used in the sample_app project.  Also a log of changes.

[~/self/rails/tutorials/hartl/rails4]$ rails new sample_app --skip-test-unit
      create  
      create  README.rdoc
      create  Rakefile
      create  config.ru
      create  .gitignore
      create  Gemfile
      create  app
      create  app/assets/javascripts/application.js
      create  app/assets/stylesheets/application.css
      create  app/controllers/application_controller.rb
      create  app/helpers/application_helper.rb
      create  app/views/layouts/application.html.erb
      create  app/assets/images/.keep
      create  app/mailers/.keep
      create  app/models/.keep
      create  app/controllers/concerns/.keep
      create  app/models/concerns/.keep
      create  bin
      create  bin/bundle
      create  bin/rails
      create  bin/rake
      create  config
      create  config/routes.rb
      create  config/application.rb
      create  config/environment.rb
      create  config/environments
      create  config/environments/development.rb
      create  config/environments/production.rb
      create  config/environments/test.rb
      create  config/initializers
      create  config/initializers/backtrace_silencers.rb
      create  config/initializers/filter_parameter_logging.rb
      create  config/initializers/inflections.rb
      create  config/initializers/mime_types.rb
      create  config/initializers/secret_token.rb
      create  config/initializers/session_store.rb
      create  config/initializers/wrap_parameters.rb
      create  config/locales
      create  config/locales/en.yml
      create  config/boot.rb
      create  config/database.yml
      create  db
      create  db/seeds.rb
      create  lib
      create  lib/tasks
      create  lib/tasks/.keep
      create  lib/assets
      create  lib/assets/.keep
      create  log
      create  log/.keep
      create  public
      create  public/404.html
      create  public/422.html
      create  public/500.html
      create  public/favicon.ico
      create  public/robots.txt
      create  tmp/cache
      create  tmp/cache/assets
      create  vendor/assets/javascripts
      create  vendor/assets/javascripts/.keep
      create  vendor/assets/stylesheets
      create  vendor/assets/stylesheets/.keep
         run  bundle install
Fetching gem metadata from https://rubygems.org/..........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
Using rake 10.3.2
Using i18n 0.6.9
Using minitest 4.7.5
Using multi_json 1.10.1
Using thread_safe 0.3.4
Using tzinfo 0.3.39
Using activesupport 4.0.5
Using builder 3.1.4
Using erubis 2.7.0
Using rack 1.5.2
Using rack-test 0.6.2
Using actionpack 4.0.5
Using mime-types 1.25.1
Using polyglot 0.3.5
Using treetop 1.4.15
Using mail 2.5.4
Using actionmailer 4.0.5
Using activemodel 4.0.5
Using activerecord-deprecated_finders 1.0.3
Using arel 4.0.2
Using activerecord 4.0.5
Using bundler 1.6.2
Using coffee-script-source 1.7.0
Using execjs 2.1.0
Using coffee-script 2.2.0
Using thor 0.19.1
Using railties 4.0.5
Using coffee-rails 4.0.1
Using hike 1.2.3
Using jbuilder 1.5.3
Using jquery-rails 3.1.0
Using json 1.8.1
Using tilt 1.4.1
Using sprockets 2.11.0
Using sprockets-rails 2.0.1
Using rails 4.0.5
Using rdoc 4.1.1
Using sass 3.2.19
Using sass-rails 4.0.3
Using sdoc 0.4.0
Using sqlite3 1.3.9
Using turbolinks 2.2.2
Using uglifier 2.5.0
Your bundle is complete!
Use `bundle show [gemname]` to see where a bundled gem is installed.
[~/self/rails/tutorials/hartl/rails4]$ 

Updated the Gemfile.  Listing 3.1.
Updated .gitignore.  Listing 1.7.

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle install --without production
Fetching gem metadata from https://rubygems.org/.........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
Could not find gem 'cabybara (= 2.1.0) ruby' in the gems available on this machine.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle update
Fetching gem metadata from https://rubygems.org/.........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
Could not find gem 'cabybara (= 2.1.0) ruby' in the gems available on this machine.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

So I had to get capybara.

[~/self/rails/tutorials/hartl/rails4/sample_app]$ gem install capybara
Fetching: mini_portile-0.6.0.gem (100%)
Successfully installed mini_portile-0.6.0
Fetching: nokogiri-1.6.2.1.gem (100%)
Building native extensions.  This could take a while...
Building nokogiri using packaged libraries.
Building libxml2-2.8.0 for nokogiri with the following patches applied:
    - 0001-Fix-parser-local-buffers-size-problems.patch
    - 0002-Fix-entities-local-buffers-size-problems.patch
    - 0003-Fix-an-error-in-previous-commit.patch
    - 0004-Fix-potential-out-of-bound-access.patch
    - 0005-Detect-excessive-entities-expansion-upon-replacement.patch
    - 0006-Do-not-fetch-external-parsed-entities.patch
    - 0007-Enforce-XML_PARSER_EOF-state-handling-through-the-pa.patch
    - 0008-Improve-handling-of-xmlStopParser.patch
    - 0009-Fix-a-couple-of-return-without-value.patch
    - 0010-Keep-non-significant-blanks-node-in-HTML-parser.patch
    - 0011-Do-not-fetch-external-parameter-entities.patch
************************************************************************
IMPORTANT!  Nokogiri builds and uses a packaged version of libxml2.

If this is a concern for you and you want to use the system library
instead, abort this installation process and reinstall nokogiri as
follows:

    gem install nokogiri -- --use-system-libraries

If you are using Bundler, tell it to use the option:

    bundle config build.nokogiri --use-system-libraries
    bundle install

However, note that nokogiri does not necessarily support all versions
of libxml2.

For example, libxml2-2.9.0 and higher are currently known to be broken
and thus unsupported by nokogiri, due to compatibility problems and
XPath optimization bugs.
************************************************************************
Building libxslt-1.1.28 for nokogiri with the following patches applied:
    - 0001-Adding-doc-update-related-to-1.1.28.patch
    - 0002-Fix-a-couple-of-places-where-f-printf-parameters-wer.patch
    - 0003-Initialize-pseudo-random-number-generator-with-curre.patch
    - 0004-EXSLT-function-str-replace-is-broken-as-is.patch
    - 0006-Fix-str-padding-to-work-with-UTF-8-strings.patch
    - 0007-Separate-function-for-predicate-matching-in-patterns.patch
    - 0008-Fix-direct-pattern-matching.patch
    - 0009-Fix-certain-patterns-with-predicates.patch
    - 0010-Fix-handling-of-UTF-8-strings-in-EXSLT-crypto-module.patch
    - 0013-Memory-leak-in-xsltCompileIdKeyPattern-error-path.patch
    - 0014-Fix-for-bug-436589.patch
    - 0015-Fix-mkdir-for-mingw.patch
************************************************************************
IMPORTANT!  Nokogiri builds and uses a packaged version of libxslt.

If this is a concern for you and you want to use the system library
instead, abort this installation process and reinstall nokogiri as
follows:

    gem install nokogiri -- --use-system-libraries

If you are using Bundler, tell it to use the option:

    bundle config build.nokogiri --use-system-libraries
    bundle install
************************************************************************
Successfully installed nokogiri-1.6.2.1
Fetching: xpath-2.0.0.gem (100%)
Successfully installed xpath-2.0.0
Fetching: capybara-2.3.0.gem (100%)
Successfully installed capybara-2.3.0
Parsing documentation for capybara-2.3.0
Installing ri documentation for capybara-2.3.0
Parsing documentation for mini_portile-0.6.0
Installing ri documentation for mini_portile-0.6.0
Parsing documentation for nokogiri-1.6.2.1
Installing ri documentation for nokogiri-1.6.2.1
Parsing documentation for xpath-2.0.0
Installing ri documentation for xpath-2.0.0
Done installing documentation for capybara, mini_portile, nokogiri, xpath after 10 seconds
4 gems installed
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Then I tried bundle install again:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle install --without production
Fetching gem metadata from https://rubygems.org/.........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
Could not find gem 'cabybara (= 2.1.0) ruby' in the gems available on this machine.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Still didn't work, even though gem list shows:

  capybara (2.3.0, 2.1.0)

It turned out I had "cababara" in the Gemfile, instead of "capybara."  Sorry, Oh
Most Magnificent Rodent.

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle install --without production
Fetching gem metadata from https://rubygems.org/.........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
Using rake 10.3.2
Using i18n 0.6.9
Using minitest 4.7.5
Using multi_json 1.10.1
Using thread_safe 0.3.4
Using tzinfo 0.3.39
Using activesupport 4.0.5
Using builder 3.1.4
Using erubis 2.7.0
Using rack 1.5.2
Using rack-test 0.6.2
Using actionpack 4.0.5
Using mime-types 1.25.1
Using polyglot 0.3.5
Using treetop 1.4.15
Using mail 2.5.4
Using actionmailer 4.0.5
Using activemodel 4.0.5
Using activerecord-deprecated_finders 1.0.3
Using arel 4.0.2
Using activerecord 4.0.5
Using bundler 1.6.2
Using mini_portile 0.6.0
Using nokogiri 1.6.2.1
Using xpath 2.0.0
Using capybara 2.1.0
Installing ffi 1.9.3
Installing childprocess 0.5.3
Using coffee-script-source 1.7.0
Using execjs 2.1.0
Using coffee-script 2.2.0
Using thor 0.19.1
Using railties 4.0.5
Using coffee-rails 4.0.1
Installing diff-lcs 1.2.5
Using hike 1.2.3
Using jbuilder 1.0.2 (was 1.5.3)
Using jquery-rails 3.0.4 (was 3.1.0)
Using json 1.8.1
Using tilt 1.4.1
Using sprockets 2.11.0
Using sprockets-rails 2.0.1
Using rails 4.0.5
Using rdoc 3.12.2 (was 4.1.1)
Installing rspec-core 2.13.1
Installing rspec-expectations 2.13.0
Installing rspec-mocks 2.13.1
Installing rspec-rails 2.13.1
Installing rubyzip 0.9.9
Using sass 3.3.8 (was 3.2.19)
Using sass-rails 4.0.1 (was 4.0.3)
Using sdoc 0.3.20 (was 0.4.0)
Installing websocket 1.0.7
Installing selenium-webdriver 2.35.1
Using sqlite3 1.3.8 (was 1.3.9)
Using turbolinks 1.1.1 (was 2.2.2)
Using uglifier 2.1.1 (was 2.5.0)
Your bundle is complete!
Gems in the group production were not installed.
Use `bundle show [gemname]` to see where a bundled gem is installed.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle update
Fetching gem metadata from https://rubygems.org/.........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
Using rake 10.3.2
Using i18n 0.6.9
Using minitest 4.7.5
Using multi_json 1.10.1
Using thread_safe 0.3.4
Using tzinfo 0.3.39
Using activesupport 4.0.5
Using builder 3.1.4
Using erubis 2.7.0
Using rack 1.5.2
Using rack-test 0.6.2
Using actionpack 4.0.5
Using mime-types 1.25.1
Using polyglot 0.3.5
Using treetop 1.4.15
Using mail 2.5.4
Using actionmailer 4.0.5
Using activemodel 4.0.5
Using activerecord-deprecated_finders 1.0.3
Using arel 4.0.2
Using activerecord 4.0.5
Using bundler 1.6.2
Using mini_portile 0.6.0
Using nokogiri 1.6.2.1
Using xpath 2.0.0
Using capybara 2.1.0
Using ffi 1.9.3
Using childprocess 0.5.3
Using coffee-script-source 1.7.0
Using execjs 2.1.0
Using coffee-script 2.2.0
Using thor 0.19.1
Using railties 4.0.5
Using coffee-rails 4.0.1
Using diff-lcs 1.2.5
Using hike 1.2.3
Using jbuilder 1.0.2
Using jquery-rails 3.0.4
Using json 1.8.1
Using tilt 1.4.1
Using sprockets 2.12.1 (was 2.11.0)
Using sprockets-rails 2.0.1
Using rails 4.0.5
Using rdoc 3.12.2
Using rspec-core 2.13.1
Using rspec-expectations 2.13.0
Using rspec-mocks 2.13.1
Using rspec-rails 2.13.1
Using rubyzip 0.9.9
Using sass 3.3.8
Using sass-rails 4.0.1
Using sdoc 0.3.20
Using websocket 1.0.7
Using selenium-webdriver 2.35.1
Using sqlite3 1.3.8
Using turbolinks 1.1.1
Using uglifier 2.1.1
Your bundle is updated!
Gems in the group production were not installed.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle install
Using rake 10.3.2
Using i18n 0.6.9
Using minitest 4.7.5
Using multi_json 1.10.1
Using thread_safe 0.3.4
Using tzinfo 0.3.39
Using activesupport 4.0.5
Using builder 3.1.4
Using erubis 2.7.0
Using rack 1.5.2
Using rack-test 0.6.2
Using actionpack 4.0.5
Using mime-types 1.25.1
Using polyglot 0.3.5
Using treetop 1.4.15
Using mail 2.5.4
Using actionmailer 4.0.5
Using activemodel 4.0.5
Using activerecord-deprecated_finders 1.0.3
Using arel 4.0.2
Using activerecord 4.0.5
Using mini_portile 0.6.0
Using nokogiri 1.6.2.1
Using xpath 2.0.0
Using capybara 2.1.0
Using ffi 1.9.3
Using childprocess 0.5.3
Using coffee-script-source 1.7.0
Using execjs 2.1.0
Using coffee-script 2.2.0
Using thor 0.19.1
Using railties 4.0.5
Using coffee-rails 4.0.1
Using diff-lcs 1.2.5
Using hike 1.2.3
Using jbuilder 1.0.2
Using jquery-rails 3.0.4
Using json 1.8.1
Using bundler 1.6.2
Using tilt 1.4.1
Using sprockets 2.12.1
Using sprockets-rails 2.0.1
Using rails 4.0.5
Using rdoc 3.12.2
Using rspec-core 2.13.1
Using rspec-expectations 2.13.0
Using rspec-mocks 2.13.1
Using rspec-rails 2.13.1
Using rubyzip 0.9.9
Using sass 3.3.8
Using sass-rails 4.0.1
Using sdoc 0.3.20
Using websocket 1.0.7
Using selenium-webdriver 2.35.1
Using sqlite3 1.3.8
Using turbolinks 1.1.1
Using uglifier 2.1.1
Your bundle is complete!
Gems in the group production were not installed.
Use `bundle show [gemname]` to see where a bundled gem is installed.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Note that bundle install remembered the --without production option.

Changed config/initializers/secret_token.rb (Listing 3.2).

Installed rspec:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ rails generate rspec:install
      create  .rspec
      create  spec
      create  spec/spec_helper.rb
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Initialize git:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ git init
Initialized empty Git repository in /Users/rpw/self/rails/tutorials/hartl/rails4/sample_app/.git/
[~/self/rails/tutorials/hartl/rails4/sample_app]$ git add .
[~/self/rails/tutorials/hartl/rails4/sample_app]$ git commit -m "Initial commit"
[master (root-commit) 5237831] Initial commit
 48 files changed, 1322 insertions(+)
 create mode 100644 .gitignore
 create mode 100644 .rspec
 create mode 100644 Gemfile
 create mode 100644 Gemfile.lock
 create mode 100644 README.rdoc
 create mode 100644 Rakefile
 create mode 100644 app/assets/images/.keep
 create mode 100644 app/assets/javascripts/application.js
 create mode 100644 app/assets/stylesheets/application.css
 create mode 100644 app/controllers/application_controller.rb
 create mode 100644 app/controllers/concerns/.keep
 create mode 100644 app/helpers/application_helper.rb
 create mode 100644 app/mailers/.keep
 create mode 100644 app/models/.keep
 create mode 100644 app/models/concerns/.keep
 create mode 100644 app/views/layouts/application.html.erb
 create mode 100755 bin/bundle
 create mode 100755 bin/rails
 create mode 100755 bin/rake
 create mode 100644 commands
 create mode 100644 config.ru
 create mode 100644 config/application.rb
 create mode 100644 config/boot.rb
 create mode 100644 config/environment.rb
 create mode 100644 config/environments/development.rb
 create mode 100644 config/environments/production.rb
 create mode 100644 config/environments/test.rb
 create mode 100644 config/initializers/backtrace_silencers.rb
 create mode 100644 config/initializers/filter_parameter_logging.rb
 create mode 100644 config/initializers/inflections.rb
 create mode 100644 config/initializers/mime_types.rb
 create mode 100644 config/initializers/secret_token.rb
 create mode 100644 config/initializers/session_store.rb
 create mode 100644 config/initializers/wrap_parameters.rb
 create mode 100644 config/locales/en.yml
 create mode 100644 config/routes.rb
 create mode 100644 db/seeds.rb
 create mode 100644 lib/assets/.keep
 create mode 100644 lib/tasks/.keep
 create mode 100644 log/.keep
 create mode 100644 public/404.html
 create mode 100644 public/422.html
 create mode 100644 public/500.html
 create mode 100644 public/favicon.ico
 create mode 100644 public/robots.txt
 create mode 100644 spec/spec_helper.rb
 create mode 100644 vendor/assets/javascripts/.keep
 create mode 100644 vendor/assets/stylesheets/.keep
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Changed the README file, renamed it using git to .md, committed.

[~/self/rails/tutorials/hartl/rails4/sample_app]$ git remote add origin https://github.com/rweisser/sample_app.git
[~/self/rails/tutorials/hartl/rails4/sample_app]$ git push -u origin master
Username for 'https://github.com': rweisser
Password for 'https://rweisser@github.com': 
Counting objects: 64, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (51/51), done.
Writing objects: 100% (64/64), 17.97 KiB | 0 bytes/s, done.
Total 64 (delta 3), reused 0 (delta 0)
To https://github.com/rweisser/sample_app.git
 * [new branch]      master -> master
Branch master set up to track remote branch master from origin.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Set up heroku:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ heroku create
Creating cryptic-basin-4588... done, stack is cedar
http://cryptic-basin-4588.herokuapp.com/ | git@heroku.com:cryptic-basin-4588.git
Git remote heroku added
[~/self/rails/tutorials/hartl/rails4/sample_app]$ git push heroku master
Initializing repository, done.
Counting objects: 64, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (51/51), done.
Writing objects: 100% (64/64), 17.97 KiB | 0 bytes/s, done.
Total 64 (delta 3), reused 0 (delta 0)

-----> Ruby app detected
-----> Compiling Ruby/Rails
-----> Using Ruby version: ruby-2.1.2
-----> Installing dependencies using 1.5.2
       Running: bundle install --without development:test --path vendor/bundle --binstubs vendor/bundle/bin -j4 --deployment
       Fetching gem metadata from https://rubygems.org/..........
       Fetching additional metadata from https://rubygems.org/..
       Using minitest (4.7.5)
       Installing multi_json (1.10.1)
       Installing i18n (0.6.9)
       Installing thread_safe (0.3.4)
       Installing rake (10.3.2)
       Installing builder (3.1.4)
       Installing tzinfo (0.3.39)
       Installing erubis (2.7.0)
       Installing rack (1.5.2)
       Installing mime-types (1.25.1)
       Installing polyglot (0.3.5)
       Installing activerecord-deprecated_finders (1.0.3)
       Installing arel (4.0.2)
       Installing coffee-script-source (1.7.0)
       Using json (1.8.1)
       Installing execjs (2.1.0)
       Using bundler (1.5.2)
       Installing hike (1.2.3)
       Installing tilt (1.4.1)
       Installing thor (0.19.1)
       Installing rails_serve_static_assets (0.0.2)
       Installing rails_stdout_logging (0.0.3)
       Installing activesupport (4.0.5)
       Installing sass (3.3.8)
       Installing rack-test (0.6.2)
       Installing coffee-script (2.2.0)
       Installing treetop (1.4.15)
       Installing rdoc (3.12.2)
       Installing uglifier (2.1.1)
       Installing sprockets (2.12.1)
       Installing rails_12factor (0.0.2)
       Installing activemodel (4.0.5)
       Installing jbuilder (1.0.2)
       Installing actionpack (4.0.5)
       Installing mail (2.5.4)
       Installing sdoc (0.3.20)
       Installing activerecord (4.0.5)
       Installing sprockets-rails (2.0.1)
       Installing railties (4.0.5)
       Installing actionmailer (4.0.5)
       Installing coffee-rails (4.0.1)
       Installing jquery-rails (3.0.4)
       Installing sass-rails (4.0.1)
       Installing pg (0.15.1)
       Installing turbolinks (1.1.1)
       Installing rails (4.0.5)
       Your bundle is complete!
       Gems in the groups development and test were not installed.
       It was installed into ./vendor/bundle
       Post-install message from rdoc:
       Depending on your version of ruby, you may need to install ruby rdoc/ri data:
       <= 1.8.6 : unsupported
       = 1.8.7 : gem install rdoc-data; rdoc-data --install
       = 1.9.1 : gem install rdoc-data; rdoc-data --install
       >= 1.9.2 : nothing to do! Yay!
       Bundle completed (24.07s)
       Cleaning up the bundler cache.
-----> Writing config/database.yml to read from DATABASE_URL
-----> Preparing app for Rails asset pipeline
       Running: rake assets:precompile
       I, [2014-06-04T20:15:01.957351 #1000]  INFO -- : Writing /tmp/build_d94f3113-f23b-4e3c-92b0-03ca5d94ec15/public/assets/application-ca8bf38828b1ee4126682823eb3fa49c.js
       I, [2014-06-04T20:15:01.978610 #1000]  INFO -- : Writing /tmp/build_d94f3113-f23b-4e3c-92b0-03ca5d94ec15/public/assets/application-98f28c7358913ad23ff595d3f8287e32.css
       Asset precompilation completed (5.75s)
       Cleaning assets
       Running: rake assets:clean
-----> WARNINGS:
       No Procfile detected, using the default web server (webrick)
       https://devcenter.heroku.com/articles/ruby-default-web-server
-----> Discovering process types
       Procfile declares types -> (none)
       Default types for Ruby  -> console, rake, web, worker

-----> Compressing... done, 21.6MB
-----> Launching... done, v6
       http://cryptic-basin-4588.herokuapp.com/ deployed to Heroku

To git@heroku.com:cryptic-basin-4588.git
 * [new branch]      master -> master
[~/self/rails/tutorials/hartl/rails4/sample_app]$ heroku run rake db:migrate
Running `rake db:migrate` attached to terminal... up, run.9835
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Save heroku info in heroku_address.

Switched to new branch for static pages:

git co -b static-pages

[~/self/rails/tutorials/hartl/rails4/sample_app]$ git co -b static-pages
Switched to a new branch 'static-pages'
[~/self/rails/tutorials/hartl/rails4/sample_app]$ rails generate controller StaticPages home help --no-test-framework
      create  app/controllers/static_pages_controller.rb
       route  get "static_pages/help"
       route  get "static_pages/home"
      invoke  erb
      create    app/views/static_pages
      create    app/views/static_pages/home.html.erb
      create    app/views/static_pages/help.html.erb
      invoke  helper
      create    app/helpers/static_pages_helper.rb
      invoke  assets
      invoke    coffee
      create      app/assets/javascripts/static_pages.js.coffee
      invoke    scss
      create      app/assets/stylesheets/static_pages.css.scss
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

 [~/self/rails/tutorials/hartl/rails4/sample_app]$ git add . 
[~/self/rails/tutorials/hartl/rails4/sample_app]$ git commit -m "Add a StaticPages controller"
[static-pages 80eeb82] Add a StaticPages controller
 9 files changed, 235 insertions(+)
 create mode 100644 app/assets/javascripts/static_pages.js.coffee
 create mode 100644 app/assets/stylesheets/static_pages.css.scss
 create mode 100644 app/controllers/static_pages_controller.rb
 create mode 100644 app/helpers/static_pages_helper.rb
 create mode 100644 app/views/static_pages/help.html.erb
 create mode 100644 app/views/static_pages/home.html.erb
 create mode 100644 heroku_address
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Created integration tests for StaticPages controller:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ rails generate integration_test static_pages
      invoke  rspec
      create    spec/requests/static_pages_spec.rb
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

NOTE:  rspec calls integration tests "request specs."  They test user interaction
       through a browser.

I did the first 2 exercises in Section 3.5.  Then I did number 3, which is to
instsall postgresql.  That took a bit of research, as well as some trail and error.
Look in self/postgres/postgres_notes to see how I did it.  There is a symbolic
link to that file in self/rails.

Starting 3.6, Advanced Setup.

Since I am using rbenv instead of rvm, I couldn't use the rvm method for
creating binstubs.  Instead, I installed the rubygems-bundler gem,
as shown in the tutorial.

[~/self/rails/tutorials/hartl/rails4/sample_app]$ gem install rubygems-bundler
Fetching: bundler-unload-1.0.2.gem (100%)
Successfully installed bundler-unload-1.0.2
Fetching: executable-hooks-1.3.2.gem (100%)
Building native extensions.  This could take a while...
# In case of problems run the following command to update binstubs:
gem regenerate_binstubs
Successfully installed executable-hooks-1.3.2
Fetching: rubygems-bundler-1.4.4.gem (100%)
Successfully installed rubygems-bundler-1.4.4
Parsing documentation for bundler-unload-1.0.2
Installing ri documentation for bundler-unload-1.0.2
Parsing documentation for executable-hooks-1.3.2
Installing ri documentation for executable-hooks-1.3.2
Parsing documentation for rubygems-bundler-1.4.4
Installing ri documentation for rubygems-bundler-1.4.4
Done installing documentation for bundler-unload, executable-hooks, rubygems-bundler after 0 seconds
3 gems installed
[~/self/rails/tutorials/hartl/rails4/sample_app]$

[~/self/rails/tutorials/hartl/rails4/sample_app]$ gem regenerate_binstubs
try also: gem pristine --binstubs
bundler 1.6.2
diff-lcs 1.2.5
erubis 2.7.0
executable-hooks 1.3.2
nokogiri 1.6.2.1
rack 1.5.2
railties 4.0.5
rake 10.3.2
rake 10.1.0
rdoc 4.1.1
rdoc 4.1.0
rdoc 3.12.2
rspec-core 2.13.1
rubygems-update 2.1.9
sass 3.3.8
sass 3.2.19
sdoc 0.4.0
sdoc 0.3.20
sprockets 2.12.1
sprockets 2.11.0
thor 0.19.1
tilt 1.4.1
treetop 1.4.15
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Note:  rubygems-bundler left me with only 3 pgms in bin:  bundle, rails,
and rake.

I am going to run bundle install --binstubs, to see what happens.
I ran it.  Now everyting is in bin:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ ls bin
total 176
drwxr-xr-x  24 rpw  staff  816 Jun 13 17:34 .
drwxr-xr-x  26 rpw  staff  884 Jun 13 17:25 ..
-rwxr-xr-x   1 rpw  staff  378 Jun 13 17:34 autospec
-rwxr-xr-x   1 rpw  staff  129 Jun  3 17:23 bundle
-rwxr-xr-x   1 rpw  staff  373 Jun 13 17:34 bundler
-rwxr-xr-x   1 rpw  staff  370 Jun 13 17:34 erubis
-rwxr-xr-x   1 rpw  staff  376 Jun 13 17:34 htmldiff
-rwxr-xr-x   1 rpw  staff  370 Jun 13 17:34 ldiff
-rwxr-xr-x   1 rpw  staff  376 Jun 13 17:34 nokogiri
-rwxr-xr-x   1 rpw  staff  368 Jun 13 17:34 rackup
-rwxr-xr-x   1 rpw  staff  370 Jun 13 17:34 rails
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:34 rake
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:34 rdoc
-rwxr-xr-x   1 rpw  staff  360 Jun 13 17:34 ri
-rwxr-xr-x   1 rpw  staff  372 Jun 13 17:34 rspec
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:34 sass
-rwxr-xr-x   1 rpw  staff  380 Jun 13 17:34 sass-convert
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:34 scss
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:34 sdoc
-rwxr-xr-x   1 rpw  staff  376 Jun 13 17:34 sdoc-merge
-rwxr-xr-x   1 rpw  staff  379 Jun 13 17:34 sprockets
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:34 thor
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:34 tilt
-rwxr-xr-x   1 rpw  staff  363 Jun 13 17:34 tt
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Added the guard gem:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ vi Gemfile
[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle install
Fetching gem metadata from https://rubygems.org/.........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
Using rake 10.3.2
Using i18n 0.6.9
Using minitest 4.7.5
Using multi_json 1.10.1
Using thread_safe 0.3.4
Using tzinfo 0.3.39
Using activesupport 4.0.5
Using builder 3.1.4
Using erubis 2.7.0
Using rack 1.5.2
Using rack-test 0.6.2
Using actionpack 4.0.5
Using mime-types 1.25.1
Using polyglot 0.3.5
Using treetop 1.4.15
Using mail 2.5.4
Using actionmailer 4.0.5
Using activemodel 4.0.5
Using activerecord-deprecated_finders 1.0.3
Using arel 4.0.2
Using activerecord 4.0.5
Using bundler 1.6.2
Using mini_portile 0.6.0
Using nokogiri 1.6.2.1
Using xpath 2.0.0
Using capybara 2.1.0
Installing timers 1.1.0
Installing celluloid 0.15.2
Using ffi 1.9.3
Using childprocess 0.5.3
Installing coderay 1.1.0
Using coffee-script-source 1.7.0
Using execjs 2.1.0
Using coffee-script 2.2.0
Using thor 0.19.1
Using railties 4.0.5
Using coffee-rails 4.0.1
Using diff-lcs 1.2.5
Installing formatador 0.2.5
Installing rb-fsevent 0.9.4
Installing rb-inotify 0.9.5
Installing listen 2.7.8
Installing lumberjack 1.0.6
Installing method_source 0.8.2
Installing slop 3.5.0
Installing pry 0.10.0
Installing guard 2.6.1
Using rspec-core 2.13.1
Using rspec-expectations 2.13.0
Using rspec-mocks 2.13.1
Installing rspec 2.13.0
Installing guard-rspec 2.5.0
Using hike 1.2.3
Using jbuilder 1.0.2
Using jquery-rails 3.0.4
Using json 1.8.1
Using pg 0.17.1
Using tilt 1.4.1
Using sprockets 2.12.1
Using sprockets-rails 2.0.1
Using rails 4.0.5
Using rdoc 3.12.2
Using rspec-rails 2.13.1
Using rubyzip 0.9.9
Using sass 3.3.8
Using sass-rails 4.0.1
Using sdoc 0.3.20
Using websocket 1.0.7
Using selenium-webdriver 2.35.1
Using turbolinks 1.1.1
Using uglifier 2.1.1
Your bundle is complete!
Gems in the group production were not installed.
Use `bundle show [gemname]` to see where a bundled gem is installed.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ ls bin
total 208
drwxr-xr-x  28 rpw  staff  952 Jun 13 17:41 .
drwxr-xr-x  26 rpw  staff  884 Jun 13 17:41 ..
-rwxr-xr-x   1 rpw  staff  378 Jun 13 17:41 autospec
-rwxr-xr-x   1 rpw  staff  129 Jun  3 17:23 bundle
-rwxr-xr-x   1 rpw  staff  373 Jun 13 17:41 bundler
-rwxr-xr-x   1 rpw  staff  373 Jun 13 17:41 coderay
-rwxr-xr-x   1 rpw  staff  370 Jun 13 17:41 erubis
-rwxr-xr-x   1 rpw  staff  367 Jun 13 17:41 guard
-rwxr-xr-x   1 rpw  staff  376 Jun 13 17:41 htmldiff
-rwxr-xr-x   1 rpw  staff  370 Jun 13 17:41 ldiff
-rwxr-xr-x   1 rpw  staff  370 Jun 13 17:41 listen
-rwxr-xr-x   1 rpw  staff  376 Jun 13 17:41 nokogiri
-rwxr-xr-x   1 rpw  staff  361 Jun 13 17:41 pry
-rwxr-xr-x   1 rpw  staff  368 Jun 13 17:41 rackup
-rwxr-xr-x   1 rpw  staff  370 Jun 13 17:41 rails
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:41 rake
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:41 rdoc
-rwxr-xr-x   1 rpw  staff  360 Jun 13 17:41 ri
-rwxr-xr-x   1 rpw  staff  372 Jun 13 17:41 rspec
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:41 sass
-rwxr-xr-x   1 rpw  staff  380 Jun 13 17:41 sass-convert
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:41 scss
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:41 sdoc
-rwxr-xr-x   1 rpw  staff  376 Jun 13 17:41 sdoc-merge
-rwxr-xr-x   1 rpw  staff  379 Jun 13 17:41 sprockets
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:41 thor
-rwxr-xr-x   1 rpw  staff  364 Jun 13 17:41 tilt
-rwxr-xr-x   1 rpw  staff  363 Jun 13 17:41 tt
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Note that now there is a bin/guard pgm.

Initialize it:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bin/guard init rspec
17:44:27 - INFO - Writing new Guardfile to /Users/rpw/self/rails/tutorials/hartl/rails4/sample_app/Guardfile
17:44:27 - INFO - rspec guard added to Guardfile, feel free to edit it
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Then I edited the guardfile.

Next I installed spork, which speeds up testing.

[~/self/rails/tutorials/hartl/rails4/sample_app]$ vi Gemfile
[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle install
Fetching gem metadata from https://rubygems.org/.........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
You have requested:
  childprocess = 0.3.6

The bundle currently has childprocess locked at 0.5.3.
Try running `bundle update childprocess`
[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle update childprocess
Fetching gem metadata from https://rubygems.org/.........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
Using rake 10.3.2
Using i18n 0.6.9
Using minitest 4.7.5
Using multi_json 1.10.1
Using thread_safe 0.3.4
Using tzinfo 0.3.39
Using activesupport 4.0.5
Using builder 3.1.4
Using erubis 2.7.0
Using rack 1.5.2
Using rack-test 0.6.2
Using actionpack 4.0.5
Using mime-types 1.25.1
Using polyglot 0.3.5
Using treetop 1.4.15
Using mail 2.5.4
Using actionmailer 4.0.5
Using activemodel 4.0.5
Using activerecord-deprecated_finders 1.0.3
Using arel 4.0.2
Using activerecord 4.0.5
Using bundler 1.6.2
Using mini_portile 0.6.0
Using nokogiri 1.6.2.1
Using xpath 2.0.0
Using capybara 2.1.0
Using timers 1.1.0
Using celluloid 0.15.2
Using ffi 1.9.3
Installing childprocess 0.3.6 (was 0.5.3)
Using coderay 1.1.0
Using coffee-script-source 1.7.0
Using execjs 2.1.0
Using coffee-script 2.2.0
Using thor 0.19.1
Using railties 4.0.5
Using coffee-rails 4.0.1
Using diff-lcs 1.2.5
Using formatador 0.2.5
Using rb-fsevent 0.9.4
Using rb-inotify 0.9.5
Using listen 2.7.8
Using lumberjack 1.0.6
Using method_source 0.8.2
Using slop 3.5.0
Using pry 0.10.0
Using guard 2.6.1
Using rspec-core 2.13.1
Using rspec-expectations 2.13.0
Using rspec-mocks 2.13.1
Using rspec 2.13.0
Using guard-rspec 2.5.0
Installing spork 1.0.0rc4
Installing guard-spork 1.5.0
Using hike 1.2.3
Using jbuilder 1.0.2
Using jquery-rails 3.0.4
Using json 1.8.1
Using pg 0.17.1
Using tilt 1.4.1
Using sprockets 2.12.1
Using sprockets-rails 2.0.1
Using rails 4.0.5
Using rdoc 3.12.2
Using rspec-rails 2.13.1
Using rubyzip 0.9.9
Using sass 3.3.8
Using sass-rails 4.0.1
Using sdoc 0.3.20
Using websocket 1.0.7
Using selenium-webdriver 2.35.1
Installing spork-rails 4.0.0
Using turbolinks 1.1.1
Using uglifier 2.1.1
Your bundle is updated!
Gems in the group production were not installed.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle install
Using rake 10.3.2
Using i18n 0.6.9
Using minitest 4.7.5
Using multi_json 1.10.1
Using thread_safe 0.3.4
Using tzinfo 0.3.39
Using activesupport 4.0.5
Using builder 3.1.4
Using erubis 2.7.0
Using rack 1.5.2
Using rack-test 0.6.2
Using actionpack 4.0.5
Using mime-types 1.25.1
Using polyglot 0.3.5
Using treetop 1.4.15
Using mail 2.5.4
Using actionmailer 4.0.5
Using activemodel 4.0.5
Using activerecord-deprecated_finders 1.0.3
Using arel 4.0.2
Using activerecord 4.0.5
Using mini_portile 0.6.0
Using nokogiri 1.6.2.1
Using xpath 2.0.0
Using capybara 2.1.0
Using timers 1.1.0
Using celluloid 0.15.2
Using ffi 1.9.3
Using childprocess 0.3.6
Using coderay 1.1.0
Using coffee-script-source 1.7.0
Using execjs 2.1.0
Using coffee-script 2.2.0
Using thor 0.19.1
Using railties 4.0.5
Using coffee-rails 4.0.1
Using diff-lcs 1.2.5
Using formatador 0.2.5
Using rb-fsevent 0.9.4
Using rb-inotify 0.9.5
Using listen 2.7.8
Using lumberjack 1.0.6
Using method_source 0.8.2
Using slop 3.5.0
Using pry 0.10.0
Using guard 2.6.1
Using rspec-core 2.13.1
Using rspec-expectations 2.13.0
Using rspec-mocks 2.13.1
Using rspec 2.13.0
Using guard-rspec 2.5.0
Using spork 1.0.0rc4
Using guard-spork 1.5.0
Using hike 1.2.3
Using jbuilder 1.0.2
Using jquery-rails 3.0.4
Using json 1.8.1
Using pg 0.17.1
Using bundler 1.6.2
Using tilt 1.4.1
Using sprockets 2.12.1
Using sprockets-rails 2.0.1
Using rails 4.0.5
Using rdoc 3.12.2
Using rspec-rails 2.13.1
Using rubyzip 0.9.9
Using sass 3.3.8
Using sass-rails 4.0.1
Using sdoc 0.3.20
Using websocket 1.0.7
Using selenium-webdriver 2.35.1
Using spork-rails 4.0.0
Using turbolinks 1.1.1
Using uglifier 2.1.1
Your bundle is complete!
Gems in the group production were not installed.
Use `bundle show [gemname]` to see where a bundled gem is installed.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Note the error message about the childprocess gem version.

Initialized spork with:

  bin/spork --bootstrap

which created (or modified, not sure) the file spec/spec_helper.rb.

Finished installing spork and connecting it to guard.  I amy want
to add spork to sublime text 2 at some point.  The info is at the
end of the 3rd chapter of the tutorial.

***

Started chapter 4.

Created full_title helper.

Tests are now running automatically in guard with spork.

When I tried to run rails c, I got the following message:

Looks like your app's ./bin/rails is a stub that was generated by Bundler.

***
In Rails 4, your app's bin/ directory contains executables that are versioned
like any other source code, rather than stubs that are generated on demand.

Here's how to upgrade:

  bundle config --delete bin    # Turn off Bundler's stub generator
  rake rails:update:bin         # Use the new Rails 4 executables
  git add bin                   # Add bin/ to source control

You may need to remove bin/ from your .gitignore as well.

When you install a gem whose executable you want to use in your app,
generate it and add it to source control:

  bundle binstubs some-gem-name
  git add bin/new-executable
***

I was also getting the rails(?) usage message after I exited from
rails c.

I followed the instructions.  Now I have a whole new set of stubs
in bin.  I'm not sure how different they are from what I got from
bundle install --binstubs.  We'll see what happens.

I tried rail c.  I got no error message, and no usage message
after exiting.

***

Started chapter 5.  Got some errors about postgresql adapter when
I tried to look at the home page, so I restarted webbrick.  Get
some errors the first time I restarted.  I thought it would be
easier to see them if I cleared the screen and restarted again.
However, it came up with no messages.

I had to download http://rubyonrails.org/images/rails.png into
apps/assets/images, since it is no longer including when you do
rails new.

Added bootstrap-sass and a particular version of sprockets to
the Gemfile.

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle install
Fetching gem metadata from https://rubygems.org/.........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
You have requested:
  sprockets = 2.11.0

The bundle currently has sprockets locked at 2.12.1.
Try running `bundle update sprockets`
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle update sprockets
Fetching gem metadata from https://rubygems.org/.........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
Using rake 10.3.2
Using i18n 0.6.9
Using minitest 4.7.5
Using multi_json 1.10.1
Using thread_safe 0.3.4
Using tzinfo 0.3.39
Using activesupport 4.0.5
Using builder 3.1.4
Using erubis 2.7.0
Using rack 1.5.2
Using rack-test 0.6.2
Using actionpack 4.0.5
Using mime-types 1.25.1
Using polyglot 0.3.5
Using treetop 1.4.15
Using mail 2.5.4
Using actionmailer 4.0.5
Using activemodel 4.0.5
Using activerecord-deprecated_finders 1.0.3
Using arel 4.0.2
Using activerecord 4.0.5
Using sass 3.3.8
Installing bootstrap-sass 2.3.2.0
Using bundler 1.6.2
Using mini_portile 0.6.0
Using nokogiri 1.6.2.1
Using xpath 2.0.0
Using capybara 2.1.0
Using timers 1.1.0
Using celluloid 0.15.2
Using ffi 1.9.3
Using childprocess 0.3.6
Using coderay 1.1.0
Using coffee-script-source 1.7.0
Using execjs 2.1.0
Using coffee-script 2.2.0
Using thor 0.19.1
Using railties 4.0.5
Using coffee-rails 4.0.1
Using diff-lcs 1.2.5
Using formatador 0.2.5
Using rb-fsevent 0.9.4
Using rb-inotify 0.9.5
Using listen 2.7.8
Using lumberjack 1.0.6
Using method_source 0.8.2
Using slop 3.5.0
Using pry 0.10.0
Using guard 2.6.1
Using rspec-core 2.13.1
Using rspec-expectations 2.13.0
Using rspec-mocks 2.13.1
Using rspec 2.13.0
Using guard-rspec 2.5.0
Using spork 1.0.0rc4
Using guard-spork 1.5.0
Using hike 1.2.3
Using jbuilder 1.0.2
Using jquery-rails 3.0.4
Using json 1.8.1
Using pg 0.17.1
Using tilt 1.4.1
Using sprockets 2.11.0 (was 2.12.1)
Using sprockets-rails 2.0.1
Using rails 4.0.5
Using rdoc 3.12.2
Using rspec-rails 2.13.1
Using rubyzip 0.9.9
Using sass-rails 4.0.1
Using sdoc 0.3.20
Using websocket 1.0.7
Using selenium-webdriver 2.35.1
Using spork-rails 4.0.0
Using turbolinks 1.1.1
Using uglifier 2.1.1
Your bundle is updated!
Gems in the group production were not installed.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle install
Using rake 10.3.2
Using i18n 0.6.9
Using minitest 4.7.5
Using multi_json 1.10.1
Using thread_safe 0.3.4
Using tzinfo 0.3.39
Using activesupport 4.0.5
Using builder 3.1.4
Using erubis 2.7.0
Using rack 1.5.2
Using rack-test 0.6.2
Using actionpack 4.0.5
Using mime-types 1.25.1
Using polyglot 0.3.5
Using treetop 1.4.15
Using mail 2.5.4
Using actionmailer 4.0.5
Using activemodel 4.0.5
Using activerecord-deprecated_finders 1.0.3
Using arel 4.0.2
Using activerecord 4.0.5
Using sass 3.3.8
Using bootstrap-sass 2.3.2.0
Using mini_portile 0.6.0
Using nokogiri 1.6.2.1
Using xpath 2.0.0
Using capybara 2.1.0
Using timers 1.1.0
Using celluloid 0.15.2
Using ffi 1.9.3
Using childprocess 0.3.6
Using coderay 1.1.0
Using coffee-script-source 1.7.0
Using execjs 2.1.0
Using coffee-script 2.2.0
Using thor 0.19.1
Using railties 4.0.5
Using coffee-rails 4.0.1
Using diff-lcs 1.2.5
Using formatador 0.2.5
Using rb-fsevent 0.9.4
Using rb-inotify 0.9.5
Using listen 2.7.8
Using lumberjack 1.0.6
Using method_source 0.8.2
Using slop 3.5.0
Using pry 0.10.0
Using guard 2.6.1
Using rspec-core 2.13.1
Using rspec-expectations 2.13.0
Using rspec-mocks 2.13.1
Using rspec 2.13.0
Using guard-rspec 2.5.0
Using spork 1.0.0rc4
Using guard-spork 1.5.0
Using hike 1.2.3
Using jbuilder 1.0.2
Using jquery-rails 3.0.4
Using json 1.8.1
Using pg 0.17.1
Using bundler 1.6.2
Using tilt 1.4.1
Using sprockets 2.11.0
Using sprockets-rails 2.0.1
Using rails 4.0.5
Using rdoc 3.12.2
Using rspec-rails 2.13.1
Using rubyzip 0.9.9
Using sass-rails 4.0.1
Using sdoc 0.3.20
Using websocket 1.0.7
Using selenium-webdriver 2.35.1
Using spork-rails 4.0.0
Using turbolinks 1.1.1
Using uglifier 2.1.1
Your bundle is complete!
Gems in the group production were not installed.
Use `bundle show [gemname]` to see where a bundled gem is installed.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Modified config/application.rb.  Added:

   config.assets.precompile += %w(*.png *.jpg *.jpeg *.gif)

This somehow makes bootstrap-sass compatible with the asset pipelin.
Why is not clear.

Finished Ruby Koans, except for optional Greed game.

Working on Chapter 5.

In 5.4.1, I was supposed to create a Users controller, but I left
out the word Users.  I reversed the generate with destroy:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ rails generate controller new --no-test-framework
      create  app/controllers/new_controller.rb
      invoke  erb
      create    app/views/new
      invoke  helper
      create    app/helpers/new_helper.rb
      invoke  assets
      invoke    coffee
      create      app/assets/javascripts/new.js.coffee
      invoke    scss
      create      app/assets/stylesheets/new.css.scss
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

[~/self/rails/tutorials/hartl/rails4/sample_app]$ rails d controller new --no-test-framework
      remove  app/controllers/new_controller.rb
      invoke  erb
      remove    app/views/new
      invoke  helper
      remove    app/helpers/new_helper.rb
      invoke  assets
      invoke    coffee
      remove      app/assets/javascripts/new.js.coffee
      invoke    scss
      remove      app/assets/stylesheets/new.css.scss
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Note: rails d == rails destroy.

Then I did it right:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ rails g controller Users new --no-test-framework
      create  app/controllers/users_controller.rb
       route  get "users/new"
      invoke  erb
      create    app/views/users
      create    app/views/users/new.html.erb
      invoke  helper
      create    app/helpers/users_helper.rb
      invoke  assets
      invoke    coffee
      create      app/assets/javascripts/users.js.coffee
      invoke    scss
      create      app/assets/stylesheets/users.css.scss
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

[~/self/rails/tutorials/hartl/rails4/sample_app]$ rails generate integration_test user_pages
      invoke  rspec
      create    spec/requests/user_pages_spec.rb
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

At the end of Chapter 5, after committing, merging, and pushing, I started
getting
     Failure/Error: before { visit about_path }
     ActionView::Template::Error:
       end of file reached
     # ./app/views/layouts/application.html.erb:5

Research indicates it might be a bug.  I can't find anything wrong with
the code.

One of the suggestions I found online was to run rake tmp:clear.
I tried it and wow!  It worked!  Es lebe der Internet!  Long live
the internet!

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bin/rspec spec
...........

Finished in 3.14 seconds
11 examples, 0 failures

Randomized with seed 12354

[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Now for the chapter 5 exercises.

Finished chapter 5 exercises and committed.
Will merge, push, and push heroku later, since I am currently at
Starbucks.

User model:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ rails g model User name:string email:string
      invoke  active_record
      create    db/migrate/20140618203351_create_users.rb
      create    app/models/user.rb
      invoke    rspec
      create      spec/models/user_spec.rb
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Migrated:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bin/rake db:migrate
== 20140618203351 CreateUsers: migrating ======================================
-- create_table(:users)
   -> 0.0686s
== 20140618203351 CreateUsers: migrated (0.0687s) =============================

[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Checked that the users table had been created in database sample_app_dev
and sample_app (prod).  It is not in sample_app_test, which I guess
makes sense.  During testing, it will be created each time.

I was a little worried that I would have a problem with my postgres setup,
since the tutorial is written with sqlite in mind.  I decided to use
postgres, as suggested in an optional exercise.

Later on:  as part of email uniqueness constraint (see spec/models/user.rb),
I added an index in postgres:

[~/self/rails/tutorials/hartl/rails4/sample_app]$ rails g migration add_index_to_users_email
      invoke  active_record
      create    db/migrate/20140621172413_add_index_to_users_email.rb
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

Next I had to add code to db/migrate/20140621172413_add_index_to_users_email.rb.
Then bin/rake db:migrate.

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bin/rake db:migrate
== 20140621172413 AddIndexToUsersEmail: migrating =============================
-- add_index(:users, :email, {:unique=>true})
   -> 0.0344s
== 20140621172413 AddIndexToUsersEmail: migrated (0.0346s) ====================

****************
Secure passwords
****************

Added bcrypt-ruby to Gemfile.

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bundle install
Fetching gem metadata from https://rubygems.org/.........
Fetching additional metadata from https://rubygems.org/..
Resolving dependencies...
Using rake 10.3.2
Using i18n 0.6.9
Using minitest 4.7.5
Using multi_json 1.10.1
Using thread_safe 0.3.4
Using tzinfo 0.3.39
Using activesupport 4.0.5
Using builder 3.1.4
Using erubis 2.7.0
Using rack 1.5.2
Using rack-test 0.6.2
Using actionpack 4.0.5
Using mime-types 1.25.1
Using polyglot 0.3.5
Using treetop 1.4.15
Using mail 2.5.4
Using actionmailer 4.0.5
Using activemodel 4.0.5
Using activerecord-deprecated_finders 1.0.3
Using arel 4.0.2
Using activerecord 4.0.5
Installing bcrypt-ruby 3.1.2                   *** Installed ***
Using sass 3.3.8
Using bootstrap-sass 2.3.2.0
Using bundler 1.6.2
Using mini_portile 0.6.0
Using nokogiri 1.6.2.1
Using xpath 2.0.0
Using capybara 2.1.0
Using timers 1.1.0
Using celluloid 0.15.2
Using ffi 1.9.3
Using childprocess 0.3.6
Using coderay 1.1.0
Using coffee-script-source 1.7.0
Using execjs 2.1.0
Using coffee-script 2.2.0
Using thor 0.19.1
Using railties 4.0.5
Using coffee-rails 4.0.1
Using diff-lcs 1.2.5
Using formatador 0.2.5
Using rb-fsevent 0.9.4
Using rb-inotify 0.9.5
Using listen 2.7.8
Using lumberjack 1.0.6
Using method_source 0.8.2
Using slop 3.5.0
Using pry 0.10.0
Using guard 2.6.1
Using rspec-core 2.13.1
Using rspec-expectations 2.13.0
Using rspec-mocks 2.13.1
Using rspec 2.13.0
Using guard-rspec 2.5.0
Using spork 1.0.0rc4
Using guard-spork 1.5.0
Using hike 1.2.3
Using jbuilder 1.0.2
Using jquery-rails 3.0.4
Using json 1.8.1
Using pg 0.17.1
Using tilt 1.4.1
Using sprockets 2.11.0
Using sprockets-rails 2.0.1
Using rails 4.0.5
Using rdoc 3.12.2
Using rspec-rails 2.13.1
Using rubyzip 0.9.9
Using sass-rails 4.0.1
Using sdoc 0.3.20
Using websocket 1.0.7
Using selenium-webdriver 2.35.1
Using spork-rails 4.0.0
Using turbolinks 1.1.1
Using uglifier 2.1.1
Your bundle is complete!
Gems in the group production were not installed.
Use `bundle show [gemname]` to see where a bundled gem is installed.
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

When I ran a test for the as yet non-existent password_digest column, I got
the message: 

  /Users/rpw/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/activerecord-4.0.5/
  lib/active_record/migration.rb:383:in `check_pending!': Migrations
  are pending; run 'bin/rake db:migrate RAILS_ENV=test' to resolve
  this issue.  (ActiveRecord::PendingMigrationError)

So I ran bin/rake db:migrate RAILS_ENV=test, which did the trick, giving me
a failing test for "should respond to #password_digest."

[~/self/rails/tutorials/hartl/rails4/sample_app]$ rails g migration
   add_password_digest_to_users password_digest:string
      invoke  active_record
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

This one created the add_column code automatically.

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bin/rake db:migrate
== 20140621175044 AddPasswordDigestToUsers: migrating =========================
-- add_column(:users, :password_digest, :string)
   -> 0.1082s
== 20140621175044 AddPasswordDigestToUsers: migrated (0.1083s) ================

[~/self/rails/tutorials/hartl/rails4/sample_app]$ bin/rake test:prepare
[~/self/rails/tutorials/hartl/rails4/sample_app]$ 

DON'T FORGET rake test:prepare

Forgetting it probably caused the earlier migration pending issue.

Initial password tests are now passing, but

NOTE:  has_secure_password can prevent some tests from failing.
       See end of 6.3.2 Password and Confirmation.

Finished chapter 6.
Finished chapter 6 exercises.

Started chapter 7.

Created branch sign-up

